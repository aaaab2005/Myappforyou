<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<title>For My Boo</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<style>
body {
    background: #ffd6e8;
    font-family: "Tahoma";
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    color: #b3005c;
}

/* =================== Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© =================== */
#menu {
    width: 250px;
    height: 100%;
    background: white;
    position: fixed;
    top: 0;
    left: -260px;
    transition: 0.4s;
    box-shadow: 0 0 10px #ff9ec9;
    padding: 20px;
    z-index: 999;
}
#menu h2 { text-align: center; }

.menu-item {
    padding: 15px;
    margin-top: 10px;
    background: #ffe4f2;
    border-radius: 10px;
    cursor: pointer;
    text-align: center;
}

/* Ø²Ø± ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
#openMenu {
    position: absolute;
    top: 15px;
    left: 15px;
    font-size: 30px;
    cursor: pointer;
}

/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
.page {
    padding: 30px;
    display: none;
}

.active { display: block; }

/* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø´Ø§Øª */
#chatBox {
    height: 250px;
    overflow-y: auto;
    border: 1px solid #ff8dc6;
    padding: 10px;
    border-radius: 10px;
    background: #fff;
}

.bubble {
    background: #ffe0ef;
    padding: 8px;
    margin: 5px 0;
    border-radius: 10px;
    width: fit-content;
}

button {
    background: #ff5fa2;
    border: none;
    color: white;
    padding: 10px;
    font-size: 18px;
    border-radius: 10px;
    margin-top: 10px;
}
input {
    width: 90%;
    padding: 10px;
    border-radius: 8px;
    border: none;
    margin-top: 10px;
}
</style>
</head>

<body>

<div id="openMenu">â˜°</div>

<!-- =================== Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© =================== -->
<div id="menu">
    <h2>Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h2>

    <div class="menu-item" onclick="showPage('home')">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
    <div class="menu-item" onclick="showPage('counter')">â¤ï¸ Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø­Ø¨</div>
    <div class="menu-item" onclick="showPage('mood')">ğŸ˜Š ÙƒÙŠÙ Ø­Ø§Ù„ÙƒØŸ</div>
    <div class="menu-item" onclick="showPage('chat')">ğŸ’¬ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©</div>
</div>

<!-- =================== Ø§Ù„ØµÙØ­Ø§Øª =================== -->

<!-- Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div id="home" class="page active">
    <h1>For My Boo ğŸ’—</h1>
    <h2>Ø±Ø³Ø§Ù„Ø© Ø§Ù„ÙŠÙˆÙ… ğŸ’Œ</h2>
    <div id="dailyMessage" style="font-size:23px;"></div>
</div>

<!-- Ø§Ù„Ø¹Ø¯Ø§Ø¯ -->
<div id="counter" class="page">
    <h2>Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø­Ø¨ â¤ï¸</h2>
    <div id="loveCounter" style="font-size:25px;font-weight:bold;"></div>

    <h3>ØªØ­Ø¯ÙŠØ« ÙŠØ¯ÙˆÙŠ:</h3>
    <input id="years" type="number" placeholder="Ø³Ù†ÙˆØ§Øª">
    <input id="months" type="number" placeholder="Ø£Ø´Ù‡Ø±">
    <input id="days" type="number" placeholder="Ø£ÙŠØ§Ù…">
    <button onclick="updateLoveCounter()">ØªØ­Ø¯ÙŠØ«</button>
</div>

<!-- Ø§Ù„Ù…Ø²Ø§Ø¬ -->
<div id="mood" class="page">
    <h2>ÙƒÙŠÙ Ø­Ø§Ù„Ùƒ Ø§Ù„ÙŠÙˆÙ… ØŸ</h2>
    <div id="moodResult" style="font-size:25px;margin-bottom:10px;"></div>

    <span style="font-size:40px;cursor:pointer" onclick="setMood('ğŸ˜­')">ğŸ˜­</span>
    <span style="font-size:40px;cursor:pointer" onclick="setMood('â¤ï¸')">â¤ï¸</span>
    <span style="font-size:40px;cursor:pointer" onclick="setMood('ğŸ˜')">ğŸ˜</span>
</div>

<!-- Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© -->
<div id="chat" class="page">
    <h2>Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© ğŸ’¬</h2>

    <div id="chatBox"></div>

    <input id="chatInput" placeholder="Ø§ÙƒØªØ¨ÙŠ Ø±Ø³Ø§Ù„Ø©...">
    <button onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

<script>

/* ============ Firebase Config ============ */
const firebaseConfig = YOUR_FIREBASE_CONFIG_HERE;

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

/* ============ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© ============ */
document.getElementById("openMenu").onclick = () => {
    document.getElementById("menu").style.left = "0";
};

document.body.onclick = (e) => {
    if (e.target.id !== "menu" && e.target.id !== "openMenu") {
        document.getElementById("menu").style.left = "-260px";
    }
};

/* ============ ØªØºÙŠÙŠØ± Ø§Ù„ØµÙØ­Ø§Øª ============ */
function showPage(id) {
    document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
    document.getElementById(id).classList.add("active");
}

/* ============ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ÙŠÙˆÙ… ============ */
const messages = [
"Ø¹Ù„Ø§Ø¨Ø§Ù„Ùƒ Ø´ÙˆØ§ ÙƒÙ†Ø¯ÙŠØ± Ø¯Ø±Ùƒ ØŸ Ù†Ø®Ù…Ù… ÙÙŠÙƒğŸ’­ğŸ’—",
"Ù„ÙˆÙƒØ§Ù† Ø¬ÙŠØª Ù‚Ø·Ø© ØªÚ¤ÙˆÙ„ÙŠ pspsps ğŸ™„ğŸ˜”",
"Ù†ØªØ§ Ø£Ø¬Ù…Ù„ Ø­Ø§Ø¬Ø© ØµØ±Ø§ØªÙ„ÙŠ ğŸ«¶ğŸ»â¤ï¸",
"Ø¹Ø¬Ø¨ØªÙƒ l\"app Ù‡Ø§Ø¯ÙŠØŸ Ø¯Ø±ØªÙ‡Ø§ Ø¨Ø§Ø´ Ù†ÙØ±Ø­Ùƒ ğŸ©·",
"Ù†Ø­Ø¨Ùƒ Ù…Ø§Ù… Ù…Ù†Ú¤ÙˆÙ„Ù‡Ø§Ø´ ÙƒÙ„ Ù†Ù‡Ø§Ø± ğŸ˜­ğŸ’—",
"Bcc coucou saha 3idkom ğŸ˜‚ğŸ˜‚ Ù…Ø¹Ù„Ø§Ø¨Ø§Ù„ÙŠØ´ Ù„Ù…Ø§Ù‡ ÙƒØªØ¨ØªÙ‡Ø§",
"Ù†Ù‡Ø§Ø± Ø¯ÙŠ Ø¹Ø±ÙØªÙƒ ÙÙŠÙ‡ Ù…Ù†Ø³ÙŠØªÙˆØ´ ÙŠØ¨Ø§Ù† ÙƒØ§Ù† Ù„Ø¨Ø§Ø±Ø­ ğŸ˜©",
"Ø´ÙˆØ§ Ú¤Ø§Ø¹Ø¯ Ø¯ÙŠØ±ØŸ ØªÙˆØ­Ø´ØªÙŠÙ†ÙŠ ğŸ™„",
"Ù„ÙˆÙƒØ§Ù† Ù†ØªØ®Ø§ØµÙ…Ùˆ ØªØ³ÙˆØ¨Ø±ÙŠÙ…ÙŠ for my boo ÙˆÙ„Ø§ ØªØ®Ù„ÙŠÙ‡Ø§ ğŸ¤§",
"Ø§ÙˆÙ„ Ù…Ø±Ø© Ù†Ø¯ÙŠØ± app ÙØ­ÙŠØ§ØªÙŠ ÙˆØ¯Ø±ØªÙ‡Ø§ Ø¹Ù„Ù‰ Ø¬Ø§Ù„Ùƒ ğŸ˜”ğŸ’—",
"Ily !ğŸ©· Ø§Ø®ØªØµØ§Ø± I love you ğŸ˜¬ğŸ––ğŸ»",
"ØªØ¹Ø¬Ø¨Ùƒ ÙƒÙ„Ù…Ø© best friend ØŸ Ù†ØªØ§ best friend ØªØ§Ø¹ÙŠ ğŸ£",
"ÙƒÙˆØªÙŠ ÙƒÙˆØªÙŠ ÙŠØ§ Ø®Ù„Ø§ØµÙˆ ğŸ‘¶ğŸ»",
"Ù…Ù„Ú¤ÙŠØªØ´ Ø´ÙˆØ§ Ù†Ú¤ÙˆÙ„Ùƒ Ù„ÙŠÙˆÙ… ğŸ˜¬",
"Ù„ÙˆÙƒØ§Ù† Ø¬ÙŠØª ÙØ±Ø§Ø´Ø© ØªØµÙŠØ¯Ù†ÙŠØŸ ğŸ˜‘",
"Ú¤Ø¯Ø§Ù‡ Ø¹Ù…Ø±Ù†Ø§ Ù„ÙŠÙˆÙ… ØŸ Ø¬Ø§ÙˆØ¨ ÙÙ„Ù†Ø³Ø·Ø§ ğŸ™„",
"ÙƒÙŠ ØªØºÙ…Ø¶ Ø¹ÙŠÙ†ÙŠÙƒ ÙˆØªÙŠÙ…Ø§Ø¬ÙŠÙ†ÙŠ Ø±ÙˆØ­Ùƒ Ù 2046 ØªØ´ÙˆÙÙ†ÙŠ Ù…Ø¹Ø§ÙƒØŸ"
];

function loadDailyMessage() {
    db.ref("daily").once("value", snap => {
        let data = snap.val();

        let now = Date.now();
        let last = data?.time || 0;

        if (now - last >= 86400000) {
            let msg = messages[Math.floor(Math.random() * messages.length)];
            db.ref("daily").set({ text: msg, time: now });
            document.getElementById("dailyMessage").innerHTML = msg;
        } else {
            document.getElementById("dailyMessage").innerHTML = data.text;
        }
    });
}
loadDailyMessage();

/* ============ Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø­Ø¨ ============ */
db.ref("loveCounter").on("value", snap => {
    let data = snap.val();
    if (!data) return;

    let startDate = new Date(data.start);
    let now = new Date();

    let years  = now.getFullYear() - startDate.getFullYear();
    let months = now.getMonth() - startDate.getMonth();
    let days   = now.getDate() - startDate.getDate();

    if (days < 0) { months--; days += 30; }
    if (months < 0) { years--; months += 12; }

    document.getElementById("loveCounter").innerHTML =
        `${years} Ø³Ù†Ø© â€¢ ${months} Ø´Ù‡Ø± â€¢ ${days} ÙŠÙˆÙ…`;
});

function updateLoveCounter() {
    let y = +document.getElementById("years").value || 0;
    let m = +document.getElementById("months").value || 0;
    let d = +document.getElementById("days").value || 0;

    let now = new Date();
    let custom = new Date(now);
    custom.setFullYear(now.getFullYear() - y);
    custom.setMonth(now.getMonth() - m);
    custom.setDate(now.getDate() - d);

    db.ref("loveCounter").set({
        start: custom.toISOString()
    });

    alert("ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« â¤ï¸");
}

/* ============ Ù…Ø²Ø§Ø¬ Ø§Ù„ÙŠÙˆÙ… ============ */
function setMood(mood) {
    db.ref("mood").set({
        emoji: mood,
        time: Date.now()
    });
}

db.ref("mood").on("value", snap => {
    let data = snap.val();
    if (data) {
        document.getElementById("moodResult").innerHTML =
            `Ù…Ø²Ø§Ø¬ Ø§Ù„ÙŠÙˆÙ…: ${data.emoji}`;
    }
});

/* ============ Ø§Ù„Ø´Ø§Øª ============ */
function sendMessage() {
    let msg = document.getElementById("chatInput").value.trim();
    if (!msg) return;

    db.ref("chat").push({
        text: msg,
        time: Date.now()
    });

    document.getElementById("chatInput").value = "";
}

db.ref("chat").on("child_added", snap => {
    let data = snap.val();
    let div = document.createElement("div");
    div.className = "bubble";
    div.innerHTML = data.text;
    document.getElementById("chatBox").appendChild(div);

    let box = document.getElementById("chatBox");
    box.scrollTop = box.scrollHeight;
});
</script>

</body>
</html>
